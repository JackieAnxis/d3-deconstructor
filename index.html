<!DOCTYPE html>
<html>
	<head>
		<title>
			D3 Deconstructor
		</title>
		<link href='http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic|Maven+Pro:400,500,700' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" type="text/css">
		<link rel="stylesheet" href="main.css" type="text/css">
		<script src="https://code.jquery.com/jquery-2.1.1.min.js" type="text/javascript">
</script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js" type="text/javascript">
</script>
	</head>
	<body>
		<div class="nav-container container">
			<a class="navbar-brand"><img src="tutorial_images/decon-icon.png" width="40px" style="margin-top:-10px; margin-right: -10px"></a>
			<ul class="nav navbar-nav">
				<li>
					<a href="#"><b>Home</b></a>
				</li>
				<li>
					<a href="tutorial.html">Tutorial</a>
				</li>
			</ul>
		</div>
		<div id="main-content" class="container">
			<div class="page-header">
				<h1>
					D3 Deconstructor
				</h1>
			</div>
			
			<p>
				The D3 Deconstructor is a Google Chrome extension for extracting data from <a href="http://d3js.org">D3.js</a> visualizations. D3 binds data to DOM elements when building a visualization. Our D3 Deconstructor extracts this data and the visual mark attributes (such as position, width, height, and color) for each element in a D3 visualization.  

In the example below, we apply the D3 Deconstructor on the visualization (left) by right clicking on it and selecting the extension from the context menu.  The D3 Deconstructor then extracts the data table (right).
				<!-- In the example below, we apply the D3 Deconstructor to the visualization on the left by right clicking on it and invoking the extension.   It then generates the data table on the right. -->
			</p>
			
			<div class="row">
				<div class="col-md-6">
					<img class="banner-img" src="tutorial_images/vallandingham-vis.png">
				</div>
				<div class="col-md-6">
					<img class="banner-img" src="tutorial_images/deconstruction-view.png">
				</div>
				<div class="col-md-6">
					<h2 class="img-label">Original Visualization &nbsp; (<a href="http://vallandingham.me/vis/movies">by Jim Vallandingham</a>)</h2>
				</div>
				<div class="col-md-6">
					<h2 class="img-label">Deconstructed Data Table</h2>
				</div>
			</div>

	    <!-- <div class="banner">
		  	<span class="banner-left">
		    	<img src="tutorial_images/vallandingham-vis.png">
		  	</span>
		  	<span class="banner-right">
		    	<img src="tutorial_images/vallandingham-vis.png">
		  	</span>
			</div>
			<div class="banner-text">
				<span class="left-text">
					<h2 class="img-label">Original Visualization (<a href="http://vallandingham.me/vis/movies">Vallandingham</a>)</h2>
				</span>
				<span class="right-text">
					<h2 class="img-label">Deconstructed Data</h2>
				</span>
			</div> -->
			
			
			<div class="bodytext">
				<p>
					The D3 Deconstructor was developed in the <a href="http://vis.berkeley.edu">VisLab</a> at UC Berkeley. We also used the results of deconstruction to enable restyling of D3 visualizations. You can find the paper here: <a href="http://vis.berkeley.edu/papers/d3decon">http://vis.berkeley.edu/papers/d3decon</a>.
				</p>
				
				<h3>
					Usage
				</h3>
				<p>
					To extract data from a D3 visualization the user right clicks on the visualization and selects "Deconstruct Visualization" in the context menu. Deconstructor then creates a window showing the data tables for each group of elements. Then, you can save visualization data as JSON or CSV.
				</p>
				<div class="panel panel-default">
					<div class="panel-body">
						<b>Note:</b> Deconstructor currently only works for D3 visualizations which use SVG.
					</div>
				</div>
				<p>
					In addition to data and mark attributes, Deconstructor extracts the mappings between the data and marks in the visualizations. These mappings are saved when saving as JSON only. JSON output is an array of "schema" objects which have several properties:
				</p>
				<ul>
					<li>
						<b>data</b> - The data table for the visualization, represented as an object whose keys are the data column names and the value for each key is the array of data values in the column.
					</li>
					<li>
						<b>attrs</b> - The mark attribute table, represented using an object similar to data.
					</li>
					<li>
						<b>mappings</b> - A list of mappings found for the group of marks. Each mapping is an object with several properties:
						<ul>
							<li>
								<em>type</em> - The type of mapping; we extract mappings which are linear and one-to-one correspondences between data and attributes.
							</li>
							<li>
								<em>data</em> - Either a single data field name or an array of data field names for the mapping.
							</li>
							<li>
								<em>attr</em> - The mapped attribute.
							</li>
							<li>
								<em>params</em> - A set of parameters that describe the mapping.
							</li>
						</ul>
					</li>
					<li>
						<b>ids</b> - A list containing a unique ID for each node, representing its order in a traversal of its SVG tree.
					</li>
				</ul>
				<h3>
					Download
				</h3>
				<p>
					<a href="d3-deconstructor.crx">Download the bundled extension.</a>  To install the extension, you must drag this file onto Chrome's Extensions page.

					Check out our <a href="tutorial.html">step-to-step tutorial</a> to learn how to use the extension.
				</p>
				
				<p>
					You can also <b>download and install</b> the Deconstructor from our <a href="http://github.com/ucbvislab/d3-deconstructor">GitHub</a>.
				</p>
				<p>
					Any <b>bugs, questions, or comments</b> about the Deconstructor can be reported on the <a href="https://github.com/ucbvislab/d3-deconstructor/issues">GitHub Issues Page</a>.
				</p>
			</div>
		</div>
	</body>
</html>
